<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HTTP Methods Demo</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <h1>Name: Krishna Chaudhari</h1>
    <h1>Task: Pass Task 2.2</h1>
    <h1>Student ID: S223751702</h1>
    
    <h1>HTTP Methods Demo</h1>
    <p style="text-align: center;">Learn GET, POST, PUT, DELETE methods</p>

    <!-- Calculator Section -->
    <div class="method">
        <h2>Basic Calculator - GET Methods</h2>
        <p>Simple calculator using GET requests</p>
        
        <input type="number" id="calcNum1" placeholder="First number" value="10">
        <input type="number" id="calcNum2" placeholder="Second number" value="5">
        <br>
        <button onclick="addNumbers()">Add (+)</button>
        <button onclick="subtractNumbers()">Subtract (-)</button>
        <button onclick="multiplyNumbers()">Multiply (×)</button>
        <button onclick="divideNumbers()">Divide (÷)</button>
        <button onclick="powerNumbers()">Power (^)</button>
        
        <div class="result" id="calcResult"></div>
    </div>

    <!-- POST Calculator -->
    <div class="method">
        <h2>Calculator - POST Method</h2>
        <p>Calculator using POST request with operation selection</p>
        
        <input type="number" id="postNum1" placeholder="First number" value="15">
        <input type="number" id="postNum2" placeholder="Second number" value="3">
        <select id="operation">
            <option value="add">Add (+)</option>
            <option value="subtract">Subtract (-)</option>
            <option value="multiply">Multiply (×)</option>
            <option value="divide">Divide (÷)</option>
            <option value="power">Power (^)</option>
        </select>
        <button onclick="calculateWithPost()">Calculate</button>
        
        <div class="result" id="postCalcResult"></div>
    </div>

    <!-- GET Method -->
    <div class="method">
        <h2>GET Method - Read Data</h2>
        <p>GET is used to read data from the server</p>
        
        <button onclick="sayHello()">Say Hello</button>
        <br>
        <input type="number" id="num1" placeholder="First number" value="5">
        <input type="number" id="num2" placeholder="Second number" value="3">
        <button onclick="addNumbers()">Add Numbers</button>
        
        <div class="result" id="getResult"></div>
    </div>

    <!-- POST Method -->
    <div class="method">
        <h2>POST Method - Create Data</h2>
        <p>POST is used to create new data</p>
        
        <input type="text" id="createName" placeholder="Enter name" value="Krishna Chaudhari">
        <input type="number" id="createAge" placeholder="Enter age" value="21">
        <button onclick="createUser()">Create User</button>
        
        <div class="result" id="postResult"></div>
    </div>

    <!-- PUT Method -->
    <div class="method">
        <h2>PUT Method - Update Data</h2>
        <p>PUT is used to update existing data</p>
        
        <input type="text" id="updateName" placeholder="Enter name" value="Krishna Chaudhari">
        <input type="number" id="updateAge" placeholder="New age" value="23">
        <button onclick="updateUser()">Update User</button>
        
        <div class="result" id="putResult"></div>
    </div>

    <!-- DELETE Method -->
    <div class="method">
        <h2>DELETE Method - Remove Data</h2>
        <p>DELETE is used to remove data</p>
        
        <input type="text" id="deleteName" placeholder="Enter name to delete" value="Krishna Chaudhari">
        <button onclick="deleteUser()">Delete User</button>
        
        <div class="result" id="deleteResult"></div>
    </div>

    <script>
        // Calculator Functions - GET Methods
        function addNumbers() {
            const num1 = document.getElementById('calcNum1').value;
            const num2 = document.getElementById('calcNum2').value;
            
            fetch(`/add?num1=${num1}&num2=${num2}`)
                .then(response => response.text())
                .then(data => {
                    document.getElementById('calcResult').textContent = data;
                })
                .catch(error => {
                    document.getElementById('calcResult').textContent = 'Error: ' + error.message;
                });
        }

        function subtractNumbers() {
            const num1 = document.getElementById('calcNum1').value;
            const num2 = document.getElementById('calcNum2').value;
            
            fetch(`/subtract?num1=${num1}&num2=${num2}`)
                .then(response => response.text())
                .then(data => {
                    document.getElementById('calcResult').textContent = data;
                })
                .catch(error => {
                    document.getElementById('calcResult').textContent = 'Error: ' + error.message;
                });
        }

        function multiplyNumbers() {
            const num1 = document.getElementById('calcNum1').value;
            const num2 = document.getElementById('calcNum2').value;
            
            fetch(`/multiply?num1=${num1}&num2=${num2}`)
                .then(response => response.text())
                .then(data => {
                    document.getElementById('calcResult').textContent = data;
                })
                .catch(error => {
                    document.getElementById('calcResult').textContent = 'Error: ' + error.message;
                });
        }

        function divideNumbers() {
            const num1 = document.getElementById('calcNum1').value;
            const num2 = document.getElementById('calcNum2').value;
            
            fetch(`/divide?num1=${num1}&num2=${num2}`)
                .then(response => response.text())
                .then(data => {
                    document.getElementById('calcResult').textContent = data;
                })
                .catch(error => {
                    document.getElementById('calcResult').textContent = 'Error: ' + error.message;
                });
        }

        function powerNumbers() {
            const num1 = document.getElementById('calcNum1').value;
            const num2 = document.getElementById('calcNum2').value;
            
            fetch(`/power?num1=${num1}&num2=${num2}`)
                .then(response => response.text())
                .then(data => {
                    document.getElementById('calcResult').textContent = data;
                })
                .catch(error => {
                    document.getElementById('calcResult').textContent = 'Error: ' + error.message;
                });
        }

        // POST Calculator
        function calculateWithPost() {
            const num1 = document.getElementById('postNum1').value;
            const num2 = document.getElementById('postNum2').value;
            const operation = document.getElementById('operation').value;
            
            fetch('/calculate', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify({ num1, num2, operation })
            })
            .then(response => response.text())
            .then(data => {
                document.getElementById('postCalcResult').textContent = data;
            })
            .catch(error => {
                document.getElementById('postCalcResult').textContent = 'Error: ' + error.message;
            });
        }

        // GET - Read data
        function sayHello() {
            fetch('/hello')
                .then(response => response.text())
                .then(data => {
                    document.getElementById('getResult').textContent = data;
                })
                .catch(error => {
                    document.getElementById('getResult').textContent = 'Error: ' + error.message;
                });
        }

        // POST - Create data
        function createUser() {
            const name = document.getElementById('createName').value;
            const age = document.getElementById('createAge').value;
            
            fetch('/create-user', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify({ name, age })
            })
            .then(response => response.text())
            .then(data => {
                document.getElementById('postResult').textContent = data;
            })
            .catch(error => {
                document.getElementById('postResult').textContent = 'Error: ' + error.message;
            });
        }

        // PUT - Update data
        function updateUser() {
            const name = document.getElementById('updateName').value;
            const newAge = document.getElementById('updateAge').value;
            
            fetch('/update-user', {
                method: 'PUT',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify({ name, newAge })
            })
            .then(response => response.text())
            .then(data => {
                document.getElementById('putResult').textContent = data;
            })
            .catch(error => {
                document.getElementById('putResult').textContent = 'Error: ' + error.message;
            });
        }

        // DELETE - Remove data
        function deleteUser() {
            const name = document.getElementById('deleteName').value;
            
            fetch('/delete-user', {
                method: 'DELETE',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify({ name })
            })
            .then(response => response.text())
            .then(data => {
                document.getElementById('deleteResult').textContent = data;
            })
            .catch(error => {
                document.getElementById('deleteResult').textContent = 'Error: ' + error.message;
            });
        }
    </script>
</body>
</html>